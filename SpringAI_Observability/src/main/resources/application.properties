spring.application.name=springai
server.port=8888

# Logging
logging.pattern.console=%green(%d{HH:mm:ss.SSS}) %blue(%-5level) %red([%thread]) %yellow(%logger{15}) - %msg%n
logging.level.org.springframework.ai.chat.client.advisor.*=DEBUG

management.endpoints.web.exposure.include=health,metrics,prometheus
management.tracing.sampling.probability=1.0
otel.exporter.otlp.endpoint=http://localhost:4317



# OpenAI Model settings using Groq's OpenAI-compatible endpoint
spring.ai.openai.api-key=${GROQ_API_KEY}

# Below are optional settings when using Groq's OpenAI-compatible endpoint
# Not required if using OpenAI directly
spring.ai.openai.base-url=https://api.groq.com/openai
spring.ai.openai.chat.options.model=llama-3.3-70b-versatile

# h2 database settings
spring.datasource.url=jdbc:h2:file:~/testdb;AUTO_SERVER=true
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

spring.h2.console.enabled=true

# Chat Memory Repository JDBC settings
spring.ai.chat.memory.repository.jdbc.initialize-schema=always
spring.ai.chat.memory.repository.jdbc.schema=classpath:schema/schema-h2.sql


# Qdrant Vector Store settings
spring.ai.vectorstore.qdrant.initialize-schema=true
spring.ai.vectorstore.qdrant.host=localhost
spring.ai.vectorstore.qdrant.port=6334  
spring.ai.vectorstore.qdrant.collection-name=springai_embeddings

# Transformers Embedding Model (Local ONNX, No API needed)
spring.ai.transformers.embedding.enabled=true
spring.ai.transformers.embedding.options.model=sentence-transformers/all-MiniLM-L6-v2
spring.ai.transformers.embedding.options.resource-cache-directory=./models


# Mistral Model settings for Embeddings - DISABLED (using Transformers instead)
# To re-enable: uncomment below and comment out Transformers config above
# Not needed if only using OpenAI models for both chat and embeddings.
# spring.ai.mistralai.api-key=${MISTRAL_API_KEY}
# spring.ai.mistralai.embedding.options.model=mistral-embed

# Disable auto-configuration for Mistral AI Chat and OpenAI Embedding models 
spring.autoconfigure.exclude=\
org.springframework.ai.model.mistralai.autoconfigure.MistralAiChatAutoConfiguration,\
org.springframework.ai.model.openai.autoconfigure.OpenAiEmbeddingAutoConfiguration

tavily.api.key=${TAVILY_API_KEY}

spring.docker.compose.stop.command=down